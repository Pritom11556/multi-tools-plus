<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Age Calculator - Multi-Tools Hub</title>
    <meta name="description" content="Free online age calculator. Calculate age in years, months, and days, find time between dates, and get zodiac information.">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="../css/style.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Luxon for advanced date calculations -->
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.4.3/build/global/luxon.min.js"></script>
</head>
<body>
    <!-- Header will be dynamically loaded -->
    <div id="header-placeholder"></div>

    <!-- Main Content -->
    <main class="container py-4">
        <div class="tool-container">
            <div class="tool-header">
                <h1><i class="fas fa-calendar-alt"></i> Age Calculator</h1>
                <p class="lead">Calculate age, find time between dates, and get zodiac information</p>
            </div>

            <div class="row">
                <div class="col-md-8">
                    <div class="calculator-container">
                        <div class="card mb-4">
                            <div class="card-header">
                                <h5 class="mb-0">Calculation Type</h5>
                            </div>
                            <div class="card-body">
                                <select class="form-select mb-3" id="calculationType">
                                    <option value="age">Calculate Age</option>
                                    <option value="between">Time Between Dates</option>
                                    <option value="birthday">Next Birthday</option>
                                    <option value="specific">Age at Specific Date</option>
                                </select>

                                <!-- Age Calculator -->
                                <div id="ageCalculator" class="calculator-section">
                                    <div class="row g-3">
                                        <div class="col-12">
                                            <label class="form-label">Date of Birth</label>
                                            <input type="date" class="form-control" id="birthDate">
                                        </div>
                                    </div>
                                </div>

                                <!-- Time Between Dates -->
                                <div id="betweenCalculator" class="calculator-section d-none">
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label class="form-label">Start Date</label>
                                            <input type="date" class="form-control" id="startDate">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">End Date</label>
                                            <input type="date" class="form-control" id="endDate">
                                        </div>
                                    </div>
                                </div>

                                <!-- Next Birthday -->
                                <div id="birthdayCalculator" class="calculator-section d-none">
                                    <div class="row g-3">
                                        <div class="col-12">
                                            <label class="form-label">Date of Birth</label>
                                            <input type="date" class="form-control" id="nextBirthDate">
                                        </div>
                                    </div>
                                </div>

                                <!-- Age at Specific Date -->
                                <div id="specificCalculator" class="calculator-section d-none">
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label class="form-label">Date of Birth</label>
                                            <input type="date" class="form-control" id="specificBirthDate">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Target Date</label>
                                            <input type="date" class="form-control" id="targetDate">
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-4">
                                    <button class="btn btn-primary" id="calculateBtn">Calculate</button>
                                    <button class="btn btn-secondary" id="resetBtn">Reset</button>
                                </div>
                            </div>
                        </div>

                        <!-- Results Card -->
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Results</h5>
                            </div>
                            <div class="card-body">
                                <div id="resultContainer">
                                    <div class="result-box p-3 rounded">
                                        <div id="mainResult" class="text-center mb-4">
                                            <h3 id="resultValue">Enter a date to calculate</h3>
                                            <p id="resultExplanation" class="text-muted mb-0"></p>
                                        </div>
                                        <div id="additionalInfo" class="d-none">
                                            <hr>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <h5>Zodiac Information</h5>
                                                    <p><strong>Western:</strong> <span id="westernZodiac"></span></p>
                                                    <p><strong>Chinese:</strong> <span id="chineseZodiac"></span></p>
                                                </div>
                                                <div class="col-md-6">
                                                    <h5>Additional Details</h5>
                                                    <p id="ageBreakdown"></p>
                                                    <p id="nextMilestone"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="text-center mt-3">
                                        <button class="btn btn-outline-primary btn-sm" id="copyResult">
                                            <i class="fas fa-copy"></i> Copy Result
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-4">
                    <div class="info-card">
                        <h4>About Age Calculator</h4>
                        <p>A versatile age calculator with multiple features to help you calculate ages and time periods accurately.</p>
                        
                        <h5 class="mt-3">Features:</h5>
                        <ul>
                            <li>Calculate exact age in years, months, and days</li>
                            <li>Find time between any two dates</li>
                            <li>Calculate days until next birthday</li>
                            <li>Determine age at a specific date</li>
                            <li>Get zodiac sign information</li>
                        </ul>
                        
                        <h5 class="mt-3">Common Uses:</h5>
                        <ul>
                            <li>Age verification</li>
                            <li>Birthday planning</li>
                            <li>Legal document preparation</li>
                            <li>Insurance calculations</li>
                            <li>Retirement planning</li>
                        </ul>
                        
                        <div class="alert alert-info mt-3">
                            <i class="fas fa-info-circle"></i> Tip: Use the specific date calculator to find your age at past or future dates.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer will be dynamically loaded -->
    <div id="footer-placeholder"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="../js/main.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const DateTime = luxon.DateTime;
            const calculationType = document.getElementById('calculationType');
            const calculatorSections = document.querySelectorAll('.calculator-section');
            const calculateBtn = document.getElementById('calculateBtn');
            const resetBtn = document.getElementById('resetBtn');
            const copyResult = document.getElementById('copyResult');
            const resultValue = document.getElementById('resultValue');
            const resultExplanation = document.getElementById('resultExplanation');
            const additionalInfo = document.getElementById('additionalInfo');
            const westernZodiac = document.getElementById('westernZodiac');
            const chineseZodiac = document.getElementById('chineseZodiac');
            const ageBreakdown = document.getElementById('ageBreakdown');
            const nextMilestone = document.getElementById('nextMilestone');

            // Show/hide calculator sections based on selection
            calculationType.addEventListener('change', function() {
                calculatorSections.forEach(section => section.classList.add('d-none'));
                document.getElementById(this.value + 'Calculator').classList.remove('d-none');
                resetCalculator();
            });

            // Get Western Zodiac sign
            function getWesternZodiac(month, day) {
                const signs = [
                    {name: "Capricorn", start: [1, 1], end: [1, 19]},
                    {name: "Aquarius", start: [1, 20], end: [2, 18]},
                    {name: "Pisces", start: [2, 19], end: [3, 20]},
                    {name: "Aries", start: [3, 21], end: [4, 19]},
                    {name: "Taurus", start: [4, 20], end: [5, 20]},
                    {name: "Gemini", start: [5, 21], end: [6, 20]},
                    {name: "Cancer", start: [6, 21], end: [7, 22]},
                    {name: "Leo", start: [7, 23], end: [8, 22]},
                    {name: "Virgo", start: [8, 23], end: [9, 22]},
                    {name: "Libra", start: [9, 23], end: [10, 22]},
                    {name: "Scorpio", start: [10, 23], end: [11, 21]},
                    {name: "Sagittarius", start: [11, 22], end: [12, 21]},
                    {name: "Capricorn", start: [12, 22], end: [12, 31]}
                ];

                for (let sign of signs) {
                    const start = DateTime.local(2000, sign.start[0], sign.start[1]);
                    const end = DateTime.local(2000, sign.end[0], sign.end[1]);
                    const date = DateTime.local(2000, month, day);
                    
                    if (date >= start && date <= end) {
                        return sign.name;
                    }
                }
                return "Capricorn"; // Default for Dec 22-31
            }

            // Get Chinese Zodiac sign
            function getChineseZodiac(year) {
                const animals = ["Rat", "Ox", "Tiger", "Rabbit", "Dragon", "Snake", 
                               "Horse", "Goat", "Monkey", "Rooster", "Dog", "Pig"];
                return animals[(year - 4) % 12];
            }

            // Calculate next milestone
            function getNextMilestone(age) {
                const milestones = [16, 18, 21, 25, 30, 40, 50, 60, 70, 80, 90, 100];
                for (let milestone of milestones) {
                    if (milestone > age) {
                        return milestone;
                    }
                }
                return milestones[milestones.length - 1];
            }

            // Calculate button click handler
            calculateBtn.addEventListener('click', function() {
                let result = '';
                let explanation = '';
                const now = DateTime.now();

                switch(calculationType.value) {
                    case 'age':
                        const birthDate = DateTime.fromISO(document.getElementById('birthDate').value);
                        if (!birthDate.isValid) {
                            alert('Please enter a valid birth date');
                            return;
                        }

                        const diff = now.diff(birthDate, ['years', 'months', 'days']).toObject();
                        result = `${Math.floor(diff.years)} years`;
                        explanation = `${Math.floor(diff.years)} years, ${Math.floor(diff.months)} months, and ${Math.floor(diff.days)} days old`;
                        
                        // Show zodiac information
                        westernZodiac.textContent = getWesternZodiac(birthDate.month, birthDate.day);
                        chineseZodiac.textContent = getChineseZodiac(birthDate.year);
                        
                        // Show age breakdown
                        const totalDays = now.diff(birthDate, 'days').days;
                        ageBreakdown.innerHTML = `
                            Total months: ${Math.floor(totalDays / 30.44)}<br>
                            Total weeks: ${Math.floor(totalDays / 7)}<br>
                            Total days: ${Math.floor(totalDays)}
                        `;
                        
                        // Show next milestone
                        const nextAge = getNextMilestone(Math.floor(diff.years));
                        nextMilestone.textContent = `Next milestone: ${nextAge} years`;
                        
                        additionalInfo.classList.remove('d-none');
                        break;

                    case 'between':
                        const startDate = DateTime.fromISO(document.getElementById('startDate').value);
                        const endDate = DateTime.fromISO(document.getElementById('endDate').value);
                        
                        if (!startDate.isValid || !endDate.isValid) {
                            alert('Please enter valid dates');
                            return;
                        }

                        const dateDiff = endDate.diff(startDate, ['years', 'months', 'days']).toObject();
                        result = `${Math.floor(dateDiff.years)} years, ${Math.floor(dateDiff.months)} months`;
                        explanation = `${Math.floor(endDate.diff(startDate, 'days').days)} total days`;
                        additionalInfo.classList.add('d-none');
                        break;

                    case 'birthday':
                        const nextBirthDate = DateTime.fromISO(document.getElementById('nextBirthDate').value);
                        if (!nextBirthDate.isValid) {
                            alert('Please enter a valid birth date');
                            return;
                        }

                        let nextBDay = nextBirthDate.set({ year: now.year });
                        if (nextBDay < now) {
                            nextBDay = nextBDay.plus({ years: 1 });
                        }

                        const daysUntil = Math.ceil(nextBDay.diff(now, 'days').days);
                        result = `${daysUntil} days until next birthday`;
                        explanation = `Your next birthday will be on ${nextBDay.toFormat('MMMM d, yyyy')}`;
                        additionalInfo.classList.add('d-none');
                        break;

                    case 'specific':
                        const specificBirthDate = DateTime.fromISO(document.getElementById('specificBirthDate').value);
                        const targetDate = DateTime.fromISO(document.getElementById('targetDate').value);
                        
                        if (!specificBirthDate.isValid || !targetDate.isValid) {
                            alert('Please enter valid dates');
                            return;
                        }

                        const specificDiff = targetDate.diff(specificBirthDate, ['years', 'months', 'days']).toObject();
                        result = `${Math.floor(specificDiff.years)} years`;
                        explanation = `${Math.floor(specificDiff.years)} years, ${Math.floor(specificDiff.months)} months, and ${Math.floor(specificDiff.days)} days old on ${targetDate.toFormat('MMMM d, yyyy')}`;
                        additionalInfo.classList.add('d-none');
                        break;
                }

                resultValue.textContent = result;
                resultExplanation.textContent = explanation;
            });

            // Reset button click handler
            resetBtn.addEventListener('click', resetCalculator);

            // Copy result button click handler
            copyResult.addEventListener('click', function() {
                const textToCopy = `${resultValue.textContent}\n${resultExplanation.textContent}`;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    const originalText = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-check"></i> Copied!';
                    setTimeout(() => {
                        this.innerHTML = originalText;
                    }, 2000);
                });
            });

            // Reset calculator function
            function resetCalculator() {
                const inputs = document.querySelectorAll('input[type="date"]');
                inputs.forEach(input => input.value = '');
                resultValue.textContent = 'Enter a date to calculate';
                resultExplanation.textContent = '';
                additionalInfo.classList.add('d-none');
            }

            // Set max date to today for birth dates
            const today = DateTime.now().toFormat('yyyy-MM-dd');
            document.getElementById('birthDate').max = today;
            document.getElementById('nextBirthDate').max = today;
            document.getElementById('specificBirthDate').max = today;
        });
    </script>
</body>
</html> 